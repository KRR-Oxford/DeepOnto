
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Yuan He (KRR-Oxford)">
      
      
        <link rel="canonical" href="https://krr-oxford.github.io/DeepOnto/bio-ml/">
      
      
        <link rel="prev" href="../bertmap/">
      
      
        <link rel="next" href="../bertsubs/">
      
      <link rel="icon" href="../images/favicon_package/favicon.ico">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.19">
    
    
      
        <title>Bio-ML: A Comprehensive Documentation - DeepOnto</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="indigo">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#bio-ml-a-comprehensive-documentation" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="DeepOnto" class="md-header__button md-logo" aria-label="DeepOnto" data-md-component="logo">
      
  <img src="../images/favicon_package/safari-pinned-tab.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DeepOnto
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Bio-ML: A Comprehensive Documentation
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/KRR-Oxford/DeepOnto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    KRR-Oxford/DeepOnto
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<!--
  Copyright (c) 2016-2023 Martin Donath <martin.donath@squidfunk.com>
  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:
  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.
  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->

<!-- Determine class according to configuration -->



  


<!-- Main navigation -->
<nav
  class="md-nav md-nav--primary md-nav--integrated"
  aria-label="Navigation"
  data-md-level="0"
>

  <!-- Site title -->
  <label class="md-nav__title" for="__drawer">
    <a
      href=".."
      title="DeepOnto"
      class="md-nav__button md-logo"
      aria-label="DeepOnto"
      data-md-component="logo"
    >
      
  <img src="../images/favicon_package/safari-pinned-tab.svg" alt="logo">

    </a>
    <!-- DeepOnto -->
  </label>

  <!-- Repository information -->
  
    <div class="md-nav__source">
      <a href="https://github.com/KRR-Oxford/DeepOnto" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    KRR-Oxford/DeepOnto
  </div>
</a>
    </div>
  

  <!-- Render item list -->
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          GET STARTED
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          GET STARTED
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ontology/" class="md-nav__link">
        Load an Ontology
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faqs/" class="md-nav__link">
        FAQs
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          TUTORIALS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          TUTORIALS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../verbaliser/" class="md-nav__link">
        Verbalise Complex Ontology Concepts
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bertmap/" class="md-nav__link">
        Ontology Matching with BERTMap Family
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Bio-ML: A Comprehensive Documentation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Bio-ML: A Comprehensive Documentation
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#important-links" class="md-nav__link">
    Important Links
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ontology-pruning" class="md-nav__link">
    Ontology Pruning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#subsumption-mapping-construction" class="md-nav__link">
    Subsumption Mapping Construction
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#candidate-mapping-generation" class="md-nav__link">
    Candidate Mapping Generation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#evaluation-framework" class="md-nav__link">
    Evaluation Framework
  </a>
  
    <nav class="md-nav" aria-label="Evaluation Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#global-matching" class="md-nav__link">
    Global Matching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-ranking" class="md-nav__link">
    Local Ranking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oaei-bio-ml-2022" class="md-nav__link">
    OAEI Bio-ML 2022
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oaei-bio-ml-2023" class="md-nav__link">
    OAEI Bio-ML 2023
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oaei-bio-llm-2023" class="md-nav__link">
    OAEI Bio-LLM 2023
  </a>
  
    <nav class="md-nav" aria-label="OAEI Bio-LLM 2023">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#evaluation" class="md-nav__link">
    Evaluation
  </a>
  
    <nav class="md-nav" aria-label="Evaluation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#matching" class="md-nav__link">
    Matching
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ranking" class="md-nav__link">
    Ranking
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#oaei-participation" class="md-nav__link">
    OAEI Participation
  </a>
  
    <nav class="md-nav" aria-label="OAEI Participation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#result-submission-format" class="md-nav__link">
    Result Submission Format
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../bertsubs/" class="md-nav__link">
        Subsumption Inference with BERTSubs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ontolama/" class="md-nav__link">
        OntoLAMA: Dataset Overview and Usage Guide
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          PACKAGE REFERENCE
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          PACKAGE REFERENCE
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_1" >
      
      
      
        <label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="0">
          Ontology Processing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_1">
          <span class="md-nav__icon md-icon"></span>
          Ontology Processing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/onto/ontology/" class="md-nav__link">
        Ontology
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/onto/reasoning/" class="md-nav__link">
        Reasoning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/onto/pruning/" class="md-nav__link">
        Pruning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/onto/verbalisation/" class="md-nav__link">
        Verbalisation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/onto/projection/" class="md-nav__link">
        Projection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/onto/normalisation/" class="md-nav__link">
        Normalisation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          Ontology Alignment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Ontology Alignment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/align/mapping/" class="md-nav__link">
        Mapping
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/align/bertmap/" class="md-nav__link">
        BERTMap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/align/logmap/" class="md-nav__link">
        LogMap
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/align/bertsubs/" class="md-nav__link">
        BERTSubs (Inter)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/align/evaluation/" class="md-nav__link">
        Evaluation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/align/oaei/" class="md-nav__link">
        OAEI Utilities
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
          Subsumption Inference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          Subsumption Inference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/subs/bertsubs/" class="md-nav__link">
        BERTSubs (Intra)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_4" >
      
      
      
        <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
          Language Model Probing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_4">
          <span class="md-nav__icon md-icon"></span>
          Language Model Probing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/probe/ontolama/" class="md-nav__link">
        OntoLAMA
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Utilities
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Utilities
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/utils/text_utils/" class="md-nav__link">
        Text Utilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/utils/file_utils/" class="md-nav__link">
        File Utilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/utils/logging/" class="md-nav__link">
        Logging
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/utils/data_utils/" class="md-nav__link">
        Data Utilities
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../deeponto/utils/decorators/" class="md-nav__link">
        Decorators
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
  
                  

  
  


<h1 id="bio-ml-a-comprehensive-documentation">Bio-ML: A Comprehensive Documentation</h1>
<div class="admonition credit">
<p class="admonition-title">paper</p>
<p>Paper for Bio-ML:
<a href="https://link.springer.com/chapter/10.1007/978-3-031-19433-7_33">Machine Learning-Friendly Biomedical Datasets for Equivalence and Subsumption Ontology Matching (ISWC 2022)</a>. It was nominated as the <strong>best resource paper candidate</strong> at ISWC 2022.</p>
<div class="highlight"><pre><span></span><code>@inproceedings{he2022machine,
  title={Machine Learning-Friendly Biomedical Datasets for Equivalence and Subsumption Ontology Matching},
  author={He, Yuan and Chen, Jiaoyan and Dong, Hang and Jim{\&#39;e}nez-Ruiz, Ernesto and Hadian, Ali and Horrocks, Ian},
  booktitle={The Semantic Web--ISWC 2022: 21st International Semantic Web Conference, Virtual Event, October 23--27, 2022, Proceedings},
  pages={575--591},
  year={2022},
  organization={Springer}
}
</code></pre></div>
</div>
<h2 id="overview">Overview</h2>
<p><span class="arithmatex">\(\textsf{Bio-ML}\)</span> is a comprehensive ontology matching (OM) dataset that includes five ontology pairs for both equivalence and subsumption ontology matching. Two of these pairs are based on the <strong>Mondo</strong> ontology, and the remaining three are based on the <strong>UMLS</strong> ontology. The construction of these datasets encompasses several steps:</p>
<ul>
<li><strong>Ontology Preprocessing</strong>: This phase involves verifying the integrity of the ontology and eliminating deprecated or superfluous classes.</li>
<li><strong>Ontology Pruning</strong>: In this stage, a sub-ontology is obtained in accordance with a list of preserved class IRIs. For Mondo ontologies, class preservation is based on reference mappings, while for UMLS ontologies, it relies on semantic types (see <a href="#ontology-pruning">Ontology Pruning</a>).</li>
<li><strong>Subsumption Mapping Construction</strong>: Reference subsumption mappings are built from reference equivalence mappings, subject to target class deletion. To clarify, if an equivalence mapping is utilised for constructing a subsumption mapping, its corresponding target ontology class will be discarded to enforce direct subsumption matching (see <a href="#subsumption-mapping-construction">Subsumption Mapping Construction</a>).</li>
<li><strong>Candidate Mapping Generation</strong>: For the purpose of evaluating an Ontology Matching (OM) system using ranking-based metrics, we generate a list of negative candidate mappings for each reference mapping by employing various heuristics (see <a href="#candidate-mapping-generation">Candidate Mapping Generation</a>).</li>
<li><strong>Locality Module Enrichment</strong> (NEW <img alt="ðŸŒŸ" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f31f.svg" title=":star2:" />): Newly introduced in the OAEI 2023 version, the pruned ontologies are enriched with classes that serve as context (annotated as <strong>not used in alignment</strong>) for existing classes, leveraging the locality module technique (access the <a href="https://github.com/ernestojimenezruiz/logmap-matcher/blob/master/src/test/java/uk/ac/ox/krr/logmap2/test/oaei/CreateModulesForBioMLTrack.java">code</a>). OM systems can use these supplemental classes as auxiliary information while excluding them from the alignment process. These additional classes will also be omitted from the final evaluation. </li>
<li><strong>Bio-LLM: A Special Sub-Track for Large Language Models</strong> (NEW <img alt="ðŸŒŸ" class="twemoji" src="https://cdn.jsdelivr.net/gh/jdecked/twemoji@14.1.2/assets/svg/1f31f.svg" title=":star2:" />): Another addition to the OAEI 2023 version, we introduced a unique sub-track for Large Language Model (LLM)-based OM systems. This is achieved by extracting small but challenging subsets from the NCIT-DOID and SNOMED-FMA (Body) datasets (see <a href="#oaei-bio-llm-2023">OAEI Bio-LLM 2023</a>).</li>
</ul>
<h2 id="important-links">Important Links</h2>
<ul>
<li>
<p><strong>Dataset Download</strong> (License: CC BY 4.0 International):</p>
<ul>
<li><strong>OAEI 2022</strong>: <a href="https://doi.org/10.5281/zenodo.6946466">https://doi.org/10.5281/zenodo.6946466</a> (see <a href="#oaei-bio-ml-2022">OAEI Bio-ML 2022</a> for detailed description).</li>
<li><strong>OAEI 2023</strong>: <a href="https://doi.org/10.5281/zenodo.8193375">https://doi.org/10.5281/zenodo.8193375</a> (see <a href="#oaei-bio-ml-2023">OAEI Bio-ML 2023</a> for detailed description).</li>
</ul>
</li>
<li>
<p><strong>Complete Documentation</strong>: <em><a href="https://krr-oxford.github.io/DeepOnto/bio-ml/">https://krr-oxford.github.io/DeepOnto/bio-ml/</a></em> (this page).</p>
</li>
<li><strong>Reference Paper</strong>: <em><a href="https://arxiv.org/abs/2205.03447">https://arxiv.org/abs/2205.03447</a></em> (revised arXiv version).</li>
<li><strong>Official OAEI Page</strong>: <em><a href="https://www.cs.ox.ac.uk/isg/projects/ConCur/oaei/index.html">https://www.cs.ox.ac.uk/isg/projects/ConCur/oaei/index.html</a></em> (OAEI participation and results).</li>
</ul>
<h2 id="ontology-pruning">Ontology Pruning</h2>
<p>In order to derive scalable Ontology Matching (OM) pairs, the <strong>ontology pruning</strong> algorithm propoased in the <span class="arithmatex">\(\textsf{Bio-ML}\)</span> paper can be utilised. This algorithm is designed to trim a large-scale ontology based on certain criteria, such as involvement in a <strong>reference mapping</strong> or association with a particular <strong>semantic type</strong> (see <a href="https://github.com/KRR-Oxford/OAEI-Bio-ML/tree/main/data_scripts/umls_scripts">UMLS data scripts</a>). The primary goal of the pruning function is to discard irrelevant ontology classes whilst preserving the relevant hierarchical structure. </p>
<p>More specifically, for each class, denoted as <span class="arithmatex">\(c\)</span>, that needs to be removed, subsumption axioms are created between the parent and child elements of <span class="arithmatex">\(c\)</span>. This step is followed by the removal of all axioms related to the unwanted classes.</p>
<p>Once a list of class IRIs to be removed has been compiled, the ontology pruning can be executed using the following code:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">deeponto.onto</span> <span class="kn">import</span> <span class="n">Ontology</span><span class="p">,</span> <span class="n">OntologyPruner</span>

<span class="c1"># Load the DOID ontology</span>
<span class="n">doid</span> <span class="o">=</span> <span class="n">Ontology</span><span class="p">(</span><span class="s2">&quot;doid.owl&quot;</span><span class="p">)</span>

<span class="c1"># Initialise the ontology pruner</span>
<span class="n">pruner</span> <span class="o">=</span> <span class="n">OntologyPruner</span><span class="p">(</span><span class="n">doid</span><span class="p">)</span>

<span class="c1"># Specify the classes to be removed</span>
<span class="n">to_be_removed_class_iris</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;http://purl.obolibrary.org/obo/DOID_0060158&quot;</span><span class="p">,</span>
    <span class="s2">&quot;http://purl.obolibrary.org/obo/DOID_9969&quot;</span>
<span class="p">]</span>

<span class="c1"># Perform the pruning operation</span>
<span class="n">pruner</span><span class="o">.</span><span class="n">prune</span><span class="p">(</span><span class="n">to_be_removed_class_iris</span><span class="p">)</span>

<span class="c1"># Save the pruned ontology locally</span>
<span class="n">pruner</span><span class="o">.</span><span class="n">save_onto</span><span class="p">(</span><span class="s2">&quot;doid.pruned.owl&quot;</span><span class="p">)</span>  
</code></pre></div>
<h2 id="subsumption-mapping-construction">Subsumption Mapping Construction</h2>
<p>Ontology Matching (OM) datasets often include equivalence matching, but <strong>not</strong> subsumption matching. However, it is feasible to create a subsumption matching task from an equivalence matching task. Given a list of <strong>reference equivalence mappings</strong>, which take the form of <span class="arithmatex">\({(c, c') | c \equiv c' }\)</span>, one can construct <strong>reference subsumption mappings</strong> by identifying the <strong>subsumers</strong> of <span class="arithmatex">\(c'\)</span> and producing <span class="arithmatex">\({(c, c'') | c \equiv c', c' \sqsubseteq c'' }\)</span>. We have developed a <a class="autorefs autorefs-internal" href="../deeponto/align/mapping/#deeponto.align.mapping.SubsFromEquivMappingGenerator">subsumption mapping generator</a> for this purpose.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">deeponto.onto</span> <span class="kn">import</span> <span class="n">Ontology</span>
<span class="kn">from</span> <span class="nn">deeponto.align.mapping</span> <span class="kn">import</span> <span class="n">SubsFromEquivMappingGenerator</span><span class="p">,</span> <span class="n">ReferenceMapping</span>

<span class="c1"># Load the NCIT and DOID ontologies</span>
<span class="n">ncit</span> <span class="o">=</span> <span class="n">Ontology</span><span class="p">(</span><span class="s2">&quot;ncit.owl&quot;</span><span class="p">)</span>
<span class="n">doid</span> <span class="o">=</span> <span class="n">Ontology</span><span class="p">(</span><span class="s2">&quot;doid.owl&quot;</span><span class="p">)</span>

<span class="c1"># Load the equivalence mappings</span>
<span class="n">ncit2doid_equiv_mappings</span> <span class="o">=</span> <span class="n">ReferenceMapping</span><span class="o">.</span><span class="n">read_table_mappings</span><span class="p">(</span><span class="s2">&quot;ncit2doid_equiv_mappings.tsv&quot;</span><span class="p">)</span>  <span class="c1"># The headings are [&quot;SrcEntity&quot;, &quot;TgtEntity&quot;, &quot;Score&quot;]</span>

<span class="c1"># Initialise the subsumption mapping generator </span>
<span class="c1"># and the mapping construction is automatically done</span>
<span class="n">subs_generator</span> <span class="o">=</span> <span class="n">SubsFromEquivMappingGenerator</span><span class="p">(</span>
  <span class="n">ncit</span><span class="p">,</span> <span class="n">doid</span><span class="p">,</span> <span class="n">ncit2doid_equiv_mappings</span><span class="p">,</span> 
  <span class="n">subs_generation_ratio</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">delete_used_equiv_tgt_class</span><span class="o">=</span><span class="kc">True</span>
<span class="p">)</span>
</code></pre></div>
<dl>
<dt><code class="highlight"><span class="go">Output:</span></code></dt>
<dd>&#32;
<div class="highlight"><pre><span></span><code><span class="mi">3299</span><span class="o">/</span><span class="mi">4686</span> <span class="n">are</span> <span class="n">used</span> <span class="k">for</span> <span class="n">creating</span> <span class="n">at</span> <span class="n">least</span> <span class="n">one</span> <span class="n">subsumption</span> <span class="n">mapping</span><span class="o">.</span>
<span class="mi">3305</span> <span class="n">subsumption</span> <span class="n">mappings</span> <span class="n">are</span> <span class="n">created</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">end</span><span class="o">.</span>
</code></pre></div></dd>
</dl>
<p>Retrieve the generated subsumption mappings with:</p>
<div class="highlight"><pre><span></span><code><span class="n">subs_generator</span><span class="o">.</span><span class="n">subs_from_equivs</span>
</code></pre></div>
<dl>
<dt><code class="highlight"><span class="go">Output:</span></code></dt>
<dd>&#32;
<div class="highlight"><pre><span></span><code><span class="p">[(</span><span class="s1">&#39;http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#C9311&#39;</span><span class="p">,</span>
  <span class="s1">&#39;http://purl.obolibrary.org/obo/DOID_120&#39;</span><span class="p">,</span>
  <span class="mf">1.0</span><span class="p">),</span>
 <span class="p">(</span><span class="s1">&#39;http://ncicb.nci.nih.gov/xml/owl/EVS/Thesaurus.owl#C8410&#39;</span><span class="p">,</span>
  <span class="s1">&#39;http://purl.obolibrary.org/obo/DOID_1612&#39;</span><span class="p">,</span>
  <span class="mf">1.0</span><span class="p">),</span> <span class="o">...</span><span class="p">]</span>
</code></pre></div></dd>
</dl>
<blockquote>
<p>See a concrete data script for this process at <a href="https://github.com/KRR-Oxford/OAEI-Bio-ML/blob/main/data_scripts/generate_subs_maps.py"><code>OAEI-Bio-ML/data_scripts/generate_subs_maps.py</code></a>.</p>
</blockquote>
<p>The <code>subs_generation_ratio</code> parameter determines at most how many subsumption mappings can be generated from an equivalence mapping. The <code>delete_used_equiv_tgt_class</code> determines whether or not to sabotage equivalence mappings used for creating at least one subsumption mappings. If it is set to <code class="highlight"><span class="kc">True</span></code>, then the target side of an (<strong>used</strong>) equivalence mapping will be marked as deleted from the target ontology. Then, apply ontology pruning to the list of to-be-deleted target ontology classes:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">deeponto.onto</span> <span class="kn">import</span> <span class="n">OntologyPruner</span>

<span class="n">pruner</span> <span class="o">=</span> <span class="n">OntologyPruner</span><span class="p">(</span><span class="n">doid</span><span class="p">)</span>
<span class="n">pruner</span><span class="o">.</span><span class="n">prune</span><span class="p">(</span><span class="n">subs_generator</span><span class="o">.</span><span class="n">used_equiv_tgt_class_iris</span><span class="p">)</span>
<span class="n">pruner</span><span class="o">.</span><span class="n">save_onto</span><span class="p">(</span><span class="s2">&quot;doid.subs.owl&quot;</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>See a concrete data script for this process at <a href="https://github.com/KRR-Oxford/OAEI-Bio-ML/blob/main/data_scripts/generate_cand_maps.py"><code>OAEI-Bio-ML/data_scripts/generate_cand_maps.py</code></a>.</p>
</blockquote>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the OAEI 2023 version, the <strong>target class deletion</strong> is disabled as modularisation counteracts the effects of such deletion. For more details, refer to <a href="#oaei-bio-ml-2023">OAEI Bio-ML 2023</a>.</p>
</div>
<h2 id="candidate-mapping-generation">Candidate Mapping Generation</h2>
<p>To evaluate an Ontology Matching (OM) model's capacity to identify correct mappings amid a pool of challenging negative candidates, we utilise the <a class="autorefs autorefs-internal" href="../deeponto/align/mapping/#deeponto.align.mapping.NegativeCandidateMappingGenerator">negative candidate mapping generation</a> algorithm as proposed in the Bio-ML paper. This algorithm uses <a class="autorefs autorefs-internal" href="../deeponto/align/mapping/#deeponto.align.mapping.NegativeCandidateMappingGenerator.idf_sample"><code>idf_sample</code></a> to generate candidates that are textually ambiguous (i.e., with similar naming), and <a class="autorefs autorefs-internal" href="../deeponto/align/mapping/#deeponto.align.mapping.NegativeCandidateMappingGenerator.neighbour_sample"><code>neighbour_sample</code></a> to generate candidates that are structurally ambiguous (e.g., siblings). The algorithm ensures that <strong>none</strong> of the reference mappings are added as negative candidates. Additionally, for subsumption cases, the algorithm carefully excludes <strong>ancestors</strong> as they are technically correct subsumptions.</p>
<p>Use the following Python code to perform this operation:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">deeponto.onto</span> <span class="kn">import</span> <span class="n">Ontology</span>
<span class="kn">from</span> <span class="nn">deeponto.align.mapping</span> <span class="kn">import</span> <span class="n">NegativeCandidateMappingGenerator</span><span class="p">,</span> <span class="n">ReferenceMapping</span>
<span class="kn">from</span> <span class="nn">deeponto.align.bertmap</span> <span class="kn">import</span> <span class="n">BERTMapPipeline</span>

<span class="c1"># Load the NCIT and DOID ontologies</span>
<span class="n">ncit</span> <span class="o">=</span> <span class="n">Ontology</span><span class="p">(</span><span class="s2">&quot;ncit.owl&quot;</span><span class="p">)</span>
<span class="n">doid</span> <span class="o">=</span> <span class="n">Ontology</span><span class="p">(</span><span class="s2">&quot;doid.owl&quot;</span><span class="p">)</span>

<span class="c1"># Load the equivalence mappings</span>
<span class="n">ncit2doid_equiv_mappings</span> <span class="o">=</span> <span class="n">ReferenceMapping</span><span class="o">.</span><span class="n">read_table_mappings</span><span class="p">(</span><span class="s2">&quot;ncit2doid_equiv_mappings.tsv&quot;</span><span class="p">)</span>  <span class="c1"># The headings are [&quot;SrcEntity&quot;, &quot;TgtEntity&quot;, &quot;Score&quot;]</span>

<span class="c1"># Load default config in BERTMap</span>
<span class="n">config</span> <span class="o">=</span> <span class="n">BERTMapPipeline</span><span class="o">.</span><span class="n">load_bertmap_config</span><span class="p">()</span>

<span class="c1"># Initialise the candidate mapping generator</span>
<span class="n">cand_generator</span> <span class="o">=</span> <span class="n">NegativeCandidateMappingGenerator</span><span class="p">(</span>
  <span class="n">ncit</span><span class="p">,</span> <span class="n">doid</span><span class="p">,</span> <span class="n">ncit2doid_equiv_mappings</span><span class="p">,</span> 
  <span class="n">annotation_property_iris</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">annotation_property_iris</span><span class="p">,</span>  <span class="c1"># Used for idf sample</span>
  <span class="n">tokenizer</span><span class="o">=</span><span class="n">Tokenizer</span><span class="o">.</span><span class="n">from_pretrained</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">bert</span><span class="o">.</span><span class="n">pretrained_path</span><span class="p">),</span>  <span class="c1"># Used for idf sample</span>
  <span class="n">max_hops</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="c1"># Used for neighbour sample</span>
  <span class="n">for_subsumptions</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>  <span class="c1"># Set to False because the input mappings in this example are equivalence mappings</span>
<span class="p">)</span>

<span class="c1"># Sample candidate mappings for each reference equivalence mapping</span>
<span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">test_map</span> <span class="ow">in</span> <span class="n">ncit2doid_equiv_mappings</span><span class="p">:</span>
    <span class="n">valid_tgts</span><span class="p">,</span> <span class="n">stats</span> <span class="o">=</span> <span class="n">neg_gen</span><span class="o">.</span><span class="n">mixed_sample</span><span class="p">(</span><span class="n">test_map</span><span class="p">,</span> <span class="n">idf</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">neighbour</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;STATS for </span><span class="si">{</span><span class="n">test_map</span><span class="si">}</span><span class="s2">:</span><span class="se">\n</span><span class="si">{</span><span class="n">stats</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="n">results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">test_map</span><span class="o">.</span><span class="n">head</span><span class="p">,</span> <span class="n">test_map</span><span class="o">.</span><span class="n">tail</span><span class="p">,</span> <span class="n">valid_tgts</span><span class="p">))</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;SrcEntity&quot;</span><span class="p">,</span> <span class="s2">&quot;TgtEntity&quot;</span><span class="p">,</span> <span class="s2">&quot;TgtCandidates&quot;</span><span class="p">])</span>
<span class="n">results</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="n">result_path</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>See a concrete data script for this process at <a href="https://github.com/KRR-Oxford/OAEI-Bio-ML/blob/main/data_scripts/generate_cand_maps.py"><code>OAEI-Bio-ML/data_scripts/generate_cand_maps.py</code></a>.</p>
</blockquote>
<p>The process of sampling using <em>idf scores</em> was originally proposed in the BERTMap paper. The <code>annotation_property_iris</code> parameter specifies the list of annotation properties used to extract the <strong>names</strong> or <strong>aliases</strong> of an ontology class. The <code>tokenizer</code> parameter refers to a pre-trained sub-word level tokenizer used to build the inverted annotation index. These aspects are thoroughly explained in the <a href="../bertmap">BERTMap tutorial</a>.</p>
<h2 id="evaluation-framework">Evaluation Framework</h2>
<p>Our evaluation protocol concerns two scenarios for OM: <strong>global matching</strong> for overall assessment and <strong>local ranking</strong> for partial assessment.</p>
<h3 id="global-matching">Global Matching</h3>
<p>As an overall assessment, given a <strong>complete</strong> set of reference mappings, an OM system is expected to compute a set of <em>true</em> mappings and compare against the reference mappings using Precision, Recall, and F-score metrics. With <span class="arithmatex">\(\textsf{DeepOnto}\)</span>, the evaluation can be performed using the following code. </p>
<div class="admonition note">
<p class="admonition-title">Matching Result<p>Download <a href="../assets/example_reference_mappings.tsv" download>an example of matching result file</a>. The three columns, <code>"SrcEntity"</code>, <code>"TgtEntity"</code>, and <code>"Score"</code> refer to the source class IRI, the target class IRI, and the matching score.</p>
</p>
</div>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">deeponto.align.evaluation</span> <span class="kn">import</span> <span class="n">AlignmentEvaluator</span>
<span class="kn">from</span> <span class="nn">deeponto.align.mapping</span> <span class="kn">import</span> <span class="n">ReferenceMapping</span><span class="p">,</span> <span class="n">EntityMapping</span>

<span class="c1"># load prediction mappings and reference mappings</span>
<span class="n">preds</span> <span class="o">=</span> <span class="n">EntityMapping</span><span class="o">.</span><span class="n">read_table_mappings</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">experiment_dir</span><span class="si">}</span><span class="s2">/bertmap/match/repaired_mappings.tsv&quot;</span><span class="p">)</span>
<span class="n">refs</span> <span class="o">=</span> <span class="n">ReferenceMapping</span><span class="o">.</span><span class="n">read_table_mappings</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data_dir</span><span class="si">}</span><span class="s2">/refs_equiv/full.tsv&quot;</span><span class="p">)</span>

<span class="c1"># compute the precision, recall and F-score metrics</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">AlignmentEvaluator</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="n">preds</span><span class="p">,</span> <span class="n">refs</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</code></pre></div>
<p>The associated formulas for Precision, Recall and F-score are:</p>
<div class="arithmatex">\[P = \frac{|\mathcal{M}_{pred} \cap \mathcal{M}_{ref}|}{|\mathcal{M}_{pred}|}, \ \ R = \frac{|\mathcal{M}_{pred} \cap \mathcal{M}_{ref}|}{|\mathcal{M}_{ref}|}, \ \ F_1 = \frac{2 P R}{P + R}\]</div>
<p>where <span class="arithmatex">\(\mathcal{M}_{pred}\)</span> and <span class="arithmatex">\(\mathcal{M}_{ref}\)</span> denote the prediction mappings and reference mappings, respectively.</p>
<dl>
<dt><code class="highlight"><span class="go">Output:</span></code></dt>
<dd>&#32;
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;P&#39;</span><span class="p">:</span> <span class="mf">0.887</span><span class="p">,</span> <span class="s1">&#39;R&#39;</span><span class="p">:</span> <span class="mf">0.879</span><span class="p">,</span> <span class="s1">&#39;F1&#39;</span><span class="p">:</span> <span class="mf">0.883</span><span class="p">}</span>
</code></pre></div></dd>
</dl>
<p>For the semi-supervised setting where a small set of training mappings is provided, the training set should also be loaded and set as <strong>null</strong> (neither positive nor negative) with <code>null_reference_mappings</code> during evaluation:</p>
<div class="highlight"><pre><span></span><code><span class="n">train_refs</span> <span class="o">=</span> <span class="n">ReferenceMapping</span><span class="o">.</span><span class="n">read_table_mappings</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">data_dir</span><span class="si">}</span><span class="s2">/refs_equiv/train.tsv&quot;</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">AlignmentEvaluator</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="n">preds</span><span class="p">,</span> <span class="n">refs</span><span class="p">,</span> <span class="n">null_reference_mappings</span><span class="o">=</span><span class="n">train_refs</span><span class="p">)</span>
</code></pre></div>
<p>When null reference mappings are involved, the formulas of Precision and Recall become:</p>
<div class="arithmatex">\[P = \frac{|(\mathcal{M}_{pred} \cap \mathcal{M}_{ref}) - \mathcal{M}_{null}|}{|\mathcal{M}_{pred} - \mathcal{M}_{null} |}, \ \ R = \frac{|(\mathcal{M}_{pred} \cap \mathcal{M}_{ref}) - \mathcal{M}_{null}|}{|\mathcal{M}_{ref} - \mathcal{M}_{null}|}\]</div>
<p>As for the OAEI 2023 version, some prediction mappings could involve classes that are marked as <strong>not used in alignment</strong>. Therefore, we need to filter out those mappings before evaluation.</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">deeponto.onto</span> <span class="kn">import</span> <span class="n">Ontology</span>
<span class="kn">from</span> <span class="nn">deeponto.align.oaei</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># load the source and target ontologies and  </span>
<span class="c1"># extract classes that are marked as not used in alignment</span>
<span class="n">src_onto</span> <span class="o">=</span> <span class="n">Ontology</span><span class="p">(</span><span class="s2">&quot;src_onto_file&quot;</span><span class="p">)</span>
<span class="n">tgt_onto</span> <span class="o">=</span> <span class="n">Ontology</span><span class="p">(</span><span class="s2">&quot;tgt_onto_file&quot;</span><span class="p">)</span>
<span class="n">ignored_class_index</span> <span class="o">=</span> <span class="n">get_ignored_class_index</span><span class="p">(</span><span class="n">src_onto</span><span class="p">)</span>
<span class="n">ignored_class_index</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">get_ignored_class_index</span><span class="p">(</span><span class="n">tgt_onto</span><span class="p">))</span>

<span class="c1"># filter the prediction mappings</span>
<span class="n">preds</span> <span class="o">=</span> <span class="n">remove_ignored_mappings</span><span class="p">(</span><span class="n">preds</span><span class="p">,</span> <span class="n">ignored_class_index</span><span class="p">)</span>

<span class="c1"># then compute the results</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">AlignmentEvaluator</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="n">preds</span><span class="p">,</span> <span class="n">refs</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>We have encapsulated above features in the <a class="autorefs autorefs-internal" href="../deeponto/align/oaei/#deeponto.align.oaei.matching_eval"><code>matching_eval</code></a> function in the OAEI utilities.</p>
</div>
<p>However,</p>
<ul>
<li>The scores will be biased towards high-precision, low-recall OM systems if the set of reference mappings is incomplete. </li>
<li>For efficient OM system development and debugging, an intermediate evaluation is required.</li>
</ul>
<p>Therefore, the ranking-based evaluation protocol is presented as follows.</p>
<h3 id="local-ranking">Local Ranking</h3>
<p>An OM system is also expected to <strong>distinguish the reference mapping</strong> among a set of candidate mappings and the performance can be reflected in Hits@K and MRR metrics. </p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The reference subsumption mappings are inherently incomplete, so only the ranking metrics are adopted in evaluating system performance in subsumption matching.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Ranking Result<p>Download <a href="../assets/example_candidate_mappings.tsv" download>an example of raw (unscored) candidate mapping file</a> and <a href="../assets/example_scored_candidate_mappings.tsv" download>an example of scored candidate mapping file</a>. The <code>"SrcEntity"</code> and <code>"TgtEntity"</code> columns refer to the source class IRI and the target class IRI involved in a <strong>reference mapping</strong>. The <code>"TgtCandidates"</code> column stores a sequence of <code>tgt_cand_iri</code> in the unscored file and a list of tuples <code>(tgt_cand_iri, score)</code> in the scored file, which can be accessed by the built-in Python function <code>eval</code>. </p>
</p>
</div>
<p>With <span class="arithmatex">\(\textsf{DeepOnto}\)</span>, the evaluation can be performed as follows. First, an OM system needs to assign a score to each target candidate class and save the results as a list of tuples <code>(tgt_cand_class_iri, matching_score)</code>. </p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">deeponto.utils</span> <span class="kn">import</span> <span class="n">read_table</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">test_candidate_mappings</span> <span class="o">=</span> <span class="n">read_table</span><span class="p">(</span><span class="s2">&quot;test.cands.tsv&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
<span class="n">ranking_results</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">src_ref_class</span><span class="p">,</span> <span class="n">tgt_ref_class</span><span class="p">,</span> <span class="n">tgt_cands</span> <span class="ow">in</span> <span class="n">test_candidate_mappings</span><span class="p">:</span>
    <span class="n">tgt_cands</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">tgt_cands</span><span class="p">)</span>  <span class="c1"># transform string into list or sequence</span>
    <span class="n">scored_cands</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">tgt_cand</span> <span class="ow">in</span> <span class="n">tgt_cands</span><span class="p">:</span>
        <span class="c1"># assign a score to each candidate with an OM system</span>
        <span class="o">...</span>
        <span class="n">scored_cands</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">tgt_cand</span><span class="p">,</span> <span class="n">matching_score</span><span class="p">))</span>
    <span class="n">ranking_results</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">src_ref_class</span><span class="p">,</span> <span class="n">tgt_ref_class</span><span class="p">,</span> <span class="n">scored_cands</span><span class="p">))</span>
<span class="c1"># save the scored candidate mappings in the same format as the original `test.cands.tsv`</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">ranking_results</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;SrcEntity&quot;</span><span class="p">,</span> <span class="s2">&quot;TgtEntity&quot;</span><span class="p">,</span> <span class="s2">&quot;TgtCandidates&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;scored.test.cands.tsv&quot;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>
<p>Then, the ranking evaluation results can be obtained by:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">deeponto.align.oaei</span> <span class="kn">import</span> <span class="o">*</span>

<span class="c1"># If `has_score` is False, assume default ranking (see tips below)</span>
<span class="n">ranking_eval</span><span class="p">(</span><span class="s2">&quot;scored.test.cands.tsv&quot;</span><span class="p">,</span> <span class="n">has_score</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">Ks</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
</code></pre></div>
<dl>
<dt><code class="highlight"><span class="go">Output:</span></code></dt>
<dd>&#32;
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="s1">&#39;MRR&#39;</span><span class="p">:</span> <span class="mf">0.9586373098280843</span><span class="p">,</span>
 <span class="s1">&#39;Hits@1&#39;</span><span class="p">:</span> <span class="mf">0.9371951219512196</span><span class="p">,</span>
 <span class="s1">&#39;Hits@5&#39;</span><span class="p">:</span> <span class="mf">0.9820121951219513</span><span class="p">,</span>
 <span class="s1">&#39;Hits@10&#39;</span><span class="p">:</span> <span class="mf">0.9878048780487805</span><span class="p">}</span>
</code></pre></div></dd>
</dl>
<p>The associated formulas for MRR and Hits@K are:</p>
<div class="arithmatex">\[MRR = \sum_i^N rank_i^{-1} / N, \ \ Hits@K = \sum_i^N \mathbb{I}_{rank_i \leq k} / N\]</div>
<p>where <span class="arithmatex">\(N\)</span> is the number of reference mappings used for testing, <span class="arithmatex">\(rank_i\)</span> is the relative rank of the reference mapping among its candidate mappings.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If matching scores are not available, the target candidate classes should be <strong>sorted</strong> in descending order and saved in a list, the <a class="autorefs autorefs-internal" href="../deeponto/align/oaei/#deeponto.align.oaei.ranking_eval"><code>ranking_eval</code></a> function will compute scores according to the sorted list.</p>
</div>
<h2 id="oaei-bio-ml-2022">OAEI Bio-ML 2022</h2>
<p>Below is a table showing the data statistics for the original Bio-ML used in OAEI 2022. In the <strong>Category</strong> column, <em>"Disease"</em> indicates that the data from Mondo mainly covers disease concepts, while <em>"Body"</em>, <em>"Pharm"</em>, and <em>"Neoplas"</em> denote semantic types of <em>"Body Part, Organ, or Organ Components"</em>, <em>"Pharmacologic Substance"</em>, and <em>"Neoplastic Process"</em> in UMLS, respectively. </p>
<p>Note that each subsumption matching task is constructed from an equivalence matching task subject to <strong>target ontology class deletion</strong>, therefore <code>#TgtCls (subs)</code> differs from <code>#TgtCls</code>.</p>
<p><center>
<small></p>
<table>
<thead>
<tr>
<th>Source</th>
<th align="center">Task</th>
<th align="center">Category</th>
<th align="center">#SrcCls</th>
<th align="center">#TgtCls</th>
<th align="center">#TgtCls(<span class="arithmatex">\(\sqsubseteq\)</span>)</th>
<th align="center">#Ref(<span class="arithmatex">\(\equiv\)</span>)</th>
<th align="center">#Ref(<span class="arithmatex">\(\sqsubseteq\)</span>)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mondo</td>
<td align="center">OMIM-ORDO</td>
<td align="center">Disease</td>
<td align="center">9,642</td>
<td align="center">8,838</td>
<td align="center">8,735</td>
<td align="center">3,721</td>
<td align="center">103</td>
</tr>
<tr>
<td>Mondo</td>
<td align="center">NCIT-DOID</td>
<td align="center">Disease</td>
<td align="center">6,835</td>
<td align="center">8,448</td>
<td align="center">5,113</td>
<td align="center">4,686</td>
<td align="center">3,339</td>
</tr>
<tr>
<td>UMLS</td>
<td align="center">SNOMED-FMA</td>
<td align="center">Body</td>
<td align="center">24,182</td>
<td align="center">64,726</td>
<td align="center">59,567</td>
<td align="center">7,256</td>
<td align="center">5,506</td>
</tr>
<tr>
<td>UMLS</td>
<td align="center">SNOMED-NCIT</td>
<td align="center">Pharm</td>
<td align="center">16,045</td>
<td align="center">15,250</td>
<td align="center">12,462</td>
<td align="center">5,803</td>
<td align="center">4,225</td>
</tr>
<tr>
<td>UMLS</td>
<td align="center">SNOMED-NCIT</td>
<td align="center">Neoplas</td>
<td align="center">11,271</td>
<td align="center">13,956</td>
<td align="center">13,790</td>
<td align="center">3,804</td>
<td align="center">213</td>
</tr>
</tbody>
</table>
<p></small>
</center></p>
<p>The datasets, which can be downloaded from Zenodo, include <code>Mondo.zip</code> and <code>UMLS.zip</code> for resources constructed from Mondo and UMLS, respectively. Each <code>.zip</code> file contains three folders: <code>raw_data</code>, <code>equiv_match</code>, and <code>subs_match</code>, corresponding to the raw source ontologies, data for equivalence matching, and data for subsumption matching, respectively. The detailed file structure is illustrated in the figure below.</p>
<p><br/></p>
<p align="center">
  <img alt="deeponto" src="../images/bio-ml-oaei-2022.svg" height="420" style="width: 70%;">
</p>

<h2 id="oaei-bio-ml-2023">OAEI Bio-ML 2023</h2>
<p>For the OAEI 2023 version, we implemented several updates, including:</p>
<ul>
<li>
<p><strong>Locality Module Enrichment</strong>: In response to the loss of ontology context due to <a href="#ontology-pruning">pruning</a>, we used the locality module technique (access the <a href="https://github.com/ernestojimenezruiz/logmap-matcher/blob/master/src/test/java/uk/ac/ox/krr/logmap2/test/oaei/CreateModulesForBioMLTrack.java">code</a>) to enrich pruned ontologies with logical modules that provide context for existing classes. To ensure the completeness of reference mappings, the new classes added are annotated as <strong>not used in alignment</strong> with the annotation property <code>use_in_alignment</code> set to <code>false</code>. While these supplemental classes can be used by OM systems as auxiliary information, they can be excluded from the alignment process. Even they are considered in the final output mappings, our evaluation will ensure that they are <strong>excluded in the metric computation</strong> (see <a href="#evaluation-framework">Evaluation Framework</a>). </p>
</li>
<li>
<p><strong>Simplified Task Settings</strong>: For each of the five OM pairs, we simplified the task settings to the following:</p>
</li>
<li><strong>Equivalence Matching</strong>: <ul>
<li><strong>Unsupervised</strong>: We cancelled the validation mapping set, and the full reference mapping set available at <code>{task_name}/refs_equiv/full.tsv</code> is used for global matching evaluation.</li>
<li><strong>Semi-supervised</strong>: The validation mapping set is incorporated into the training set (rendering train-val splitting optional), and the test mapping set available at <code>{task_name}/refs_equiv/test.tsv</code> is used for global matching evaluation.</li>
<li><strong>Local Ranking</strong>: Both unsupervised and semi-supervised settings use the same set of candidate mappings found at <code>{task_name}/refs_equiv/test.cands.tsv</code> for local ranking evaluation.</li>
</ul>
</li>
<li>
<p><strong>Subsumption Matching</strong>:</p>
<ul>
<li><strong>Target Ontology</strong>: In the OAEI 2022 version, the target ontology for subsumption matching is different from the one for equivalence matching due to <strong>target class deletion</strong>. However, as the locality modules counteract such deletion process, we use the same target ontology for both types of matching.</li>
<li><strong>Unsupervised</strong>: We removed the unsupervised setting since the subsumption matching task did not attract enough participation.</li>
<li><strong>Semi-supervised</strong>: The validation mapping set is merged into the training set (rendering train-val splitting optional). We conduct a local ranking evaluation (global matching is not applicable for subsumption matching) for candidate mappings available at <code>{task_name}/refs_subs/test.cands.tsv</code>. </li>
</ul>
</li>
<li>
<p><strong>Bio-LLM: A Special Sub-Track for Large Language Models</strong>: We introduced a unique sub-track for Large Language Model (LLM)-based OM systems. We extracted small but challenging subsets from the NCIT-DOID and SNOMED-FMA (Body) datasets for this purpose (refer to <a href="#oaei-bio-llm-2023">OAEI Bio-LLM 2023</a>).</p>
</li>
</ul>
<p>Below demonstrates the data statistics for the OAEI 2023 version of Bio-ML, where the input ontologies are enriched with locality modules compared to the pruned versions used in OAEI 2022. The augmented structural and logical contexts make these ontologies more similar to their original versions without any processing (available at <code>raw_data</code>). The changes compared to the previous version (see <a href="#bio-ml-oaei-2022">Bio-ML OAEI 2022</a>) are reflected in the <code>+</code> numbers of ontology classes. </p>
<p>In the <strong>Category</strong> column, <em>"Disease"</em> indicates that the Mondo data are mainly about disease concepts, while <em>"Body"</em>, <em>"Pharm"</em>, and <em>"Neoplas"</em> denote semantic types of <em>"Body Part, Organ, or Organ Components"</em>, <em>"Pharmacologic Substance"</em>, and <em>"Neoplastic Process"</em> in UMLS, respectively. </p>
<p><center>
<small></p>
<table>
<thead>
<tr>
<th>Source</th>
<th align="center">Task</th>
<th align="center">Category</th>
<th align="center">#SrcCls</th>
<th align="center">#TgtCls</th>
<th align="center">#Ref(<span class="arithmatex">\(\equiv\)</span>)</th>
<th align="center">#Ref(<span class="arithmatex">\(\sqsubseteq\)</span>)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mondo</td>
<td align="center">OMIM-ORDO</td>
<td align="center">Disease</td>
<td align="center">9,648 (+6)</td>
<td align="center">9,275 (+437)</td>
<td align="center">3,721</td>
<td align="center">103</td>
</tr>
<tr>
<td>Mondo</td>
<td align="center">NCIT-DOID</td>
<td align="center">Disease</td>
<td align="center">15,762 (+8,927)</td>
<td align="center">8,465 (+17)</td>
<td align="center">4,686</td>
<td align="center">3,339</td>
</tr>
<tr>
<td>UMLS</td>
<td align="center">SNOMED-FMA</td>
<td align="center">Body</td>
<td align="center">34,418 (+10,236)</td>
<td align="center">88,955 (+24,229)</td>
<td align="center">7,256</td>
<td align="center">5,506</td>
</tr>
<tr>
<td>UMLS</td>
<td align="center">SNOMED-NCIT</td>
<td align="center">Pharm</td>
<td align="center">29,500 (+13,455)</td>
<td align="center">22,136 (+6,886)</td>
<td align="center">5,803</td>
<td align="center">4,225</td>
</tr>
<tr>
<td>UMLS</td>
<td align="center">SNOMED-NCIT</td>
<td align="center">Neoplas</td>
<td align="center">22,971 (+11,700)</td>
<td align="center">20,247 (+6291)</td>
<td align="center">3,804</td>
<td align="center">213</td>
</tr>
</tbody>
</table>
<p></small>
</center></p>
<p>The file structure for the download datasets (from Zenodo) is also simplified this year to accommodate the changes. Detailed structure is presented in the following figure.</p>
<p><br/></p>
<p align="center">
  <img alt="deeponto" src="../images/bio-ml-oaei-2023.svg" height="420" style="width: 70%;">
</p>

<p>Remarks on this figure:</p>
<ol>
<li>For equivalence matching, testing of the global matching evaluation should be performed on <code>refs_equiv/full.tsv</code> in the unsupervised setting, and on <code>refs_equiv/test.tsv</code> (with <code>refs_equiv/train.tsv</code> set to null reference mappings) in the semi-supervised setting. Testing of the local ranking evaluation should be performed on <code>refs_equiv/test.cands.tsv</code> for both settings.</li>
<li>For subsumption matching, the local ranking evaluation should be performed on <code>refs_equiv/test.cands.tsv</code> and the training mapping set <code>refs_subs/train.tsv</code> is optional.</li>
<li>The <code>test.cands.tsv</code> file in the Bio-LLM sub-track is different from the main Bio-LM track ones. See <a href="#oaei-bio-llm-2023">OAEI Bio-LLM 2023</a> for more information and how to evaluate on it.</li>
</ol>
<h2 id="oaei-bio-llm-2023">OAEI Bio-LLM 2023</h2>
<p>As Large Language Models (LLMs) are trending in the AI community, we formulate a special sub-track for evaluating LLM-based OM systems. However, evaluating LLMs with the current OM datasets can be time and resource intensive. To yield insightful results prior to full implementation, we leverage two challenging subsets extracted from the NCIT-DOID and the SNOMED-FMA (Body) equivalence matching datasets.</p>
<p>For each original dataset, we first randomly select 50 <strong>matched</strong> class pairs from ground truth mappings, but <strong>excluding pairs that can be aligned</strong> with direct string matching (i.e., having at least one shared label) to restrict the efficacy of conventional lexical matching. Next, with a fixed source ontology class, we further select 99 negative target ontology classes, thus forming a total of 100 candidate mappings (inclusive of the ground truth mapping). This selection is guided by the sub-word inverted index-based idf scores as in the BERTMap paper (see <a href="../bertmap">BERTMap tutorial</a> for more details), which are capable of producing target ontology classes lexically akin to the fixed source class. We finally randomly choose 50 source classes that <strong>do not have a matched target class</strong> according to the ground truth mappings, and create 100 candidate mappings using the inverted index for each. Therefore, each subset comprises 50 source ontology classes with a match and 50 without. Each class is associated with 100 candidate mappings, culminating in a total extraction of 10,000, i.e., (50+50)*100, class pairs.</p>
<h3 id="evaluation">Evaluation</h3>
<h4 id="matching">Matching</h4>
<p>From all the 10,000 class pairs in a given subset, the OM system is expected to predict the true mappings among them, which can be compared against the 50 available ground truth mappings using 
Precision, Recall, and F-score. </p>
<p>We use the same formulas in the main track <a href="#evaluation-framework">evaluation framework</a> to calculate Precision, Recall, and F-score. The prediction mappings <span class="arithmatex">\(\mathcal{M}_{pred}\)</span> are the class pairs an OM system predicts as <strong>true mappings</strong>, and the reference mappings <span class="arithmatex">\(\mathcal{M}_{ref}\)</span> refers to the 50 matched pairs. </p>
<div class="arithmatex">\[P = \frac{|\mathcal{M}_{pred} \cap \mathcal{M}_{ref}|}{|\mathcal{M}_{pred}|}, \ \ R = \frac{|\mathcal{M}_{pred} \cap \mathcal{M}_{ref}|}{|\mathcal{M}_{ref}|}, \ \ F_1 = \frac{2 P R}{P + R}\]</div>
<h4 id="ranking">Ranking</h4>
<p>Given that each source class is associated with 100 candidate mappings, we can compute ranking-based metrics based on their scores. Specifically, we calculate:</p>
<ul>
<li>
<p><span class="arithmatex">\(Hits@1\)</span> for the 50 matched source classes, counting a hit when the top-ranked candidate mapping is a ground truth mapping. The corresponding formula is:</p>
<div class="arithmatex">\[
Hits@K = \sum_{(c, c') \in \mathcal{M}_{ref}} \mathbb{I}_{rank_{c'} \leq K} / |\mathcal{M}_{ref}|
\]</div>
<p>where <span class="arithmatex">\(rank_{c'}\)</span> is the predicted relative rank of <span class="arithmatex">\(c'\)</span> among its candidates, <span class="arithmatex">\(\mathbb{I}_{rank_{c'} \leq K}\)</span> is a binary indicator function that outputs 1 if the rank is less than or equal to <span class="arithmatex">\(K\)</span> and outputs 0 otherwise.</p>
</li>
<li>
<p>The <span class="arithmatex">\(MRR\)</span> score is also computed for these matched source classes, summing the inverses of the ground truth mappings' relative ranks among candidate mappings. The corresponding formula is:</p>
<div class="arithmatex">\[
MRR = \sum_{(c, c') \in \mathcal{M}_{ref}} rank_{c'}^{-1} / |\mathcal{M}_{ref}|
\]</div>
</li>
<li>
<p>For the 50 unmatched source classes, we compute the rejection rate (denoted as <span class="arithmatex">\(RR\)</span>), counting a successful rejection when <strong>all</strong> the candidate mappings are predicted as <strong>false mappings</strong>. We assign each unmatched source class with a null class <span class="arithmatex">\(c_{null}\)</span>, which refers to any target class that does not have a match with the source class, and denote this set of <em>unreferenced</em> mappings as <span class="arithmatex">\(\mathcal{M}_{unref}\)</span>. </p>
<div class="arithmatex">\[
RR = \sum_{(c, c_{null}) \in \mathcal{M}_{unref}} \prod_{d \in \mathcal{T}_c} (1 - \mathbb{I}_{c \equiv d})  / |\mathcal{M}_{unref}|
\]</div>
<p>where <span class="arithmatex">\(\mathcal{T}_c\)</span> is the set of target candidate classes for <span class="arithmatex">\(c\)</span>, and <span class="arithmatex">\(\mathbb{I}_{c \equiv d}\)</span> is a binary indicator that outputs 0 if the OM system predicts a false mapping between <span class="arithmatex">\(c\)</span> and <span class="arithmatex">\(d\)</span>, and outputs 1 otherwise. The product term in this equation returns 1 if all target candidate classes are predicted as unmatched, i.e., <span class="arithmatex">\(\forall d \in \mathcal{T}_c.\mathbb{I}_{c \equiv d}=0\)</span>.</p>
</li>
</ul>
<p>To summarise, the Bio-LLM sub-track provides two representative OM subsets and adopts a range of evaluation metrics to gain meaningful insights from this partial assessment, thus promoting robust and efficient development of LLM-based OM systems.</p>
<hr />
<h2 id="oaei-participation">OAEI Participation</h2>
<p>To participate in the OAEI track, please visit the <a href="https://www.cs.ox.ac.uk/isg/projects/ConCur/oaei/index.html">OAEI Bio-ML website</a> for more information, especially on the instructions of system submission or direct result submission. In the following, we present the formats of result files we expect participants to submit.</p>
<h3 id="result-submission-format">Result Submission Format</h3>
<p>For the <strong>main Bio-ML track</strong>, we expect two result files for each setting:</p>
<ul>
<li>
<p><strong>(1)</strong> A prediction mapping file named <code>match.result.tsv</code> in the same format as the reference mapping file (e.g., <code>task_name/refs_equiv/full.tsv</code>).</p>
<div class="admonition note">
<p class="admonition-title">Matching Result<p>Download <a href="../assets/example_reference_mappings.tsv" download>an example of mapping file</a>. The three columns, <code>"SrcEntity"</code>, <code>"TgtEntity"</code>, and <code>"Score"</code> refer to the source class IRI, the target class IRI, and the matching score.</p>
</p>
</div>
</li>
<li>
<p><strong>(2)</strong> A scored or ranked candidate mapping file named <code>rank.result.tsv</code> in the same format as the test candidate mapping file (e.g., <code>task_name/refs_equiv/test.cands.tsv</code>). </p>
<div class="admonition note">
<p class="admonition-title">Ranking Result<p>Download <a href="../assets/example_candidate_mappings.tsv" download>an example of raw (unscored) candidate mapping file</a> and <a href="../assets/example_scored_candidate_mappings.tsv" download>an example of scored candidate mapping file</a>. The <code>"SrcEntity"</code> and <code>"TgtEntity"</code> columns refer to the source class IRI and the target class IRI involved in a <strong>reference mapping</strong>. The <code>"TgtCandidates"</code> column stores a sequence of <code>tgt_cand_iri</code> in the unscored file and a list of <strong>tuples</strong> <code>(tgt_cand_iri, score)</code> in the scored file, which can be accessed by the built-in Python function <code>eval</code>. </p>
<p>We also accept a result file without scores and in that case we assume the list of <code>tgt_cand_iri</code> has been sorted in descending order.</p>
</p>
</div>
</li>
</ul>
<p>Note that each OM pair is accompanied with an unsupervised and a semi-supervised setting and thus separate sets of result files should be submitted. Moreover, for subsumption matching, only the ranking result file in (2) is required.</p>
<p>For the <strong>Bio-LLM sub-track</strong>, we expect one result file (similar to (2) but requiring a list of <strong>triples</strong>) for the task:</p>
<ul>
<li>
<p><strong>(3)</strong>  A scored or ranked (with answers) candidate mapping file named <code>biollm.result.tsv</code> in the same format as the test candidate mapping file (i.e., <code>task_name/test.cands.tsv</code>).</p>
<div class="admonition note">
<p class="admonition-title">Bio-LLM Result<p>Download <a href="../assets/example_bio-llm_candidate_mappings.tsv" download>an example of bio-llm mapping file</a>. The <code>"SrcEntity"</code> and <code>"TgtEntity"</code> columns refer to the source class IRI and the target class IRI involved in a <strong>reference mapping</strong>. The <code>"TgtCandidates"</code> column stores a sequence of a list of <strong>triples</strong> <code>(tgt_cand_iri, score, answer)</code> in the scored file, which can be accessed by the built-in Python function <code>eval</code>. The additional <code>answer</code> values are <code>True</code> or <code>False</code> indicating whether the OM system predicts <code>(src_class_iri, tgt_cand_iri)</code> as a true mapping.</p>
</p>
</div>
</li>
</ul>
<p>It is important to notice that the <code>answer</code> values are necessary for the matching evaluation of P, R, F-score, and the computation of rejection rate, the <code>score</code> values are used for ranking evaluation of MRR and Hits@1.</p>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 20, 2023</span>
      
        <br>
        Created:
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">May 2, 2022</span>
      
    
  </small>
</div>





                

  
    <div class="md-source-date">
      <small>
        <span class="twemoji">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> 
        </span>
        GitHub: <span class='git-page-authors'><a href='https://github.com/Lawhy'>@Lawhy</a>
        &nbsp;
        <span class="twemoji">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c.2 35.5-28.5 64.3-64 64.3H128.1c-35.3 0-64-28.7-64-64V287.6H32c-18 0-32-14-32-32.1 0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7l255.4 224.5c8 7 12 15 11 24zM352 224a64 64 0 1 0-128 0 64 64 0 1 0 128 0zm-96 96c-44.2 0-80 35.8-80 80 0 8.8 7.2 16 16 16h192c8.8 0 16-7.2 16-16 0-44.2-35.8-80-80-80h-64z"/></svg> 
        </span>
        Personal Page: <span class='git-page-authors'><a href='https://www.yuanhe.wiki/'>yuanhe.wiki</a>
      </small>
    </div>
  

              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2021 Yuan He (KRR-Oxford)
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://pypi.org/project/deeponto/" target="_blank" rel="noopener" title="pypi.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.8 200.5c-7.7-30.9-22.3-54.2-53.4-54.2h-40.1v47.4c0 36.8-31.2 67.8-66.8 67.8H172.7c-29.2 0-53.4 25-53.4 54.3v101.8c0 29 25.2 46 53.4 54.3 33.8 9.9 66.3 11.7 106.8 0 26.9-7.8 53.4-23.5 53.4-54.3v-40.7H226.2v-13.6h160.2c31.1 0 42.6-21.7 53.4-54.2 11.2-33.5 10.7-65.7 0-108.6zM286.2 404c11.1 0 20.1 9.1 20.1 20.3 0 11.3-9 20.4-20.1 20.4-11 0-20.1-9.2-20.1-20.4.1-11.3 9.1-20.3 20.1-20.3zM167.8 248.1h106.8c29.7 0 53.4-24.5 53.4-54.3V91.9c0-29-24.4-50.7-53.4-55.6-35.8-5.9-74.7-5.6-106.8.1-45.2 8-53.4 24.7-53.4 55.6v40.7h106.9v13.6h-147c-31.1 0-58.3 18.7-66.8 54.2-9.8 40.7-10.2 66.1 0 108.6 7.6 31.6 25.7 54.2 56.8 54.2H101v-48.8c0-35.3 30.5-66.4 66.8-66.4zm-6.7-142.6c-11.1 0-20.1-9.1-20.1-20.3.1-11.3 9-20.4 20.1-20.4 11 0 20.1 9.2 20.1 20.4s-9 20.3-20.1 20.3z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/Lawhy" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/YuanHe97" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "toc.integrate", "navigation.top", "header.autohide", "toc.follow", "content.code.copy"], "search": "../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../javascripts/mathjax.js"></script>
        
      
        
          <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        
      
        
          <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
      
    
  </body>
</html>